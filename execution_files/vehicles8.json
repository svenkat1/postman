{"variables":[],"info":{"name":"UIAPI's BAT Automation","_postman_id":"cfdaf8ab-a0a3-81ce-3819-6382c5c36ae5","description":"UIAPI's BAT Automation","schema":"https://schema.getpostman.com/json/collection/v2.0.0/collection.json"},"item":[{"name":"search with mnf","event":[{"listen":"test","script":{"type":"text/javascript","exec":["var schema = {","    \"id\" : \"errorResponeCheck\",","    \"type\" : \"object\",","    \"properties\" : {","        \"statusCode\" : {\"type\" : \"number\"},","        \"statusDescr\" : {\"type\" : \"string\"},","        \"details\" : {\"type\":\"object\",","            \"properties\" : {","                \"statusCode\" : {\"type\" : \"number\"},","                \"statusDescr\" : {\"type\" : \"string\"}","            }","        }","    },","    \"required\": [\"statusCode\",\"statusDescr\",\"details\"],","    \"additionalProperties\" : false","};","","var count = parseInt(postman.getEnvironmentVariable(\"count\"));","var Desc = postman.getEnvironmentVariable(\"description\"+count);","var url = postman.getEnvironmentVariable(\"url\");","var collectionUnitName = \"search with mnf\";","","switch(responseCode.code) {","    ","    case 200:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        pageSize = parseInt(postman.getEnvironmentVariable(\"pageSize\"));","        entity = postman.getEnvironmentVariable(\"entity\");","        pageIndex = parseInt(postman.getEnvironmentVariable(\"pageIndex\"));","        mnf = postman.getEnvironmentVariable(\"mnf\");","        valid = response[entity].length;","","        if(valid > 0) {","            console.log(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"proper response\"] = true;","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url );","            tests[collectionUnitName+\" [\" + Desc + \"] with url : \" +url ] = false;","            tests[\"response is empty = \" +\"Request payload : \"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = false;   ","        }","","        if((pageIndex >= 1 || isNaN(pageIndex)) && (pageSize !==0 && pageSize < 10)) {","            tests[\"validation metaInfo with pageSize\"] = response.metaInfo.hitSize <= pageSize;","        }","        ","        if(pageIndex === 1 || isNaN(pageIndex) || isNaN(pageSize)) {","            ","            response[entity].forEach(function(value) {","                var check =  Object.getOwnPropertyNames(value).map(function(key) {","                    if (key === \"mnf\") {","                        if(value[key] === mnf) {","                            tests[\"mnf check \"] = value[key] == mnf;","                        }","                    }","                });","            });","        }","        break;","        ","    case 406:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","        ","    case 401:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","        ","    case 400:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","        ","    case 403:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","    ","    case 404:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","        ","    case 500:","","        request = JSON.parse(request.data);","        console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","        tests[\"Error code = \"+responseCode.code+\", Error Response [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(responseBody)] = false;","        break;","","    case 503:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","        tests[\"Error code = \"+responseCode.code+\", Error Response [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = false;","        break;","","}","","var totalCount = parseInt(postman.getEnvironmentVariable(\"totalCount\"));","postman.setEnvironmentVariable(\"count\",++count);","","if(count <= totalCount) {","    ","    postman.setEnvironmentVariable(\"url\",postman.getEnvironmentVariable(\"baseUrl\")+postman.getEnvironmentVariable(\"case\"+count));","    postman.setNextRequest(\"search with mnf\");","    ","} else {","    ","    postman.setEnvironmentVariable(\"count\",0);","    ","}","",""]}},{"listen":"prerequest","script":{"type":"text/javascript","exec":["var count = parseInt(postman.getEnvironmentVariable(\"count\"));","if(count === 0) {","    postman.setEnvironmentVariable(\"url\",postman.getEnvironmentVariable(\"baseUrl\"));","}"]}}],"request":{"url":"{{url}}","method":"POST","header":[{"key":"Authorization","value":"Bearer {{accessToken}}","description":""},{"key":"Accept","value":"application/json","description":""},{"key":"Content-Type","value":"application/json","description":""}],"body":{"mode":"raw","raw":"{   \n  \"filters\" : {     \n    \"{{entityFilter}}\" : {       \n      \"search\"  : {         \n        \"mnf\" : [\"{{mnf}}\"]      \n      }     \n    }  \n  } \n}"},"description":"Testing mnf search"},"response":[]},{"name":"search with mdl","event":[{"listen":"test","script":{"type":"text/javascript","exec":["var schema = {","    \"id\" : \"errorResponeCheck\",","    \"type\" : \"object\",","    \"properties\" : {","        \"statusCode\" : {\"type\" : \"number\"},","        \"statusDescr\" : {\"type\" : \"string\"},","        \"details\" : {\"type\":\"object\",","            \"properties\" : {","                \"statusCode\" : {\"type\" : \"number\"},","                \"statusDescr\" : {\"type\" : \"string\"}","            }","        }","    },","    \"required\": [\"statusCode\",\"statusDescr\",\"details\"],","    \"additionalProperties\" : false","};","","var count = parseInt(postman.getEnvironmentVariable(\"count\"));","var Desc = postman.getEnvironmentVariable(\"description\"+count);","var url = postman.getEnvironmentVariable(\"url\");","var collectionUnitName = \"search with mdl\";","","switch(responseCode.code) {","    ","    case 200:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        pageSize = parseInt(postman.getEnvironmentVariable(\"pageSize\"));","        entity = postman.getEnvironmentVariable(\"entity\");","        pageIndex = parseInt(postman.getEnvironmentVariable(\"pageIndex\"));","        mdl = postman.getEnvironmentVariable(\"mdl\");","        valid = response[entity].length;","","        if(valid > 0) {","            console.log(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"proper response\"] = true;","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url );","            tests[collectionUnitName+\" [\" + Desc + \"] with url : \" +url ] = false;","            tests[\"response is empty = \" +\"Request payload : \"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = false;   ","        }","","        if((pageIndex >= 1 || isNaN(pageIndex)) && (pageSize !==0 && pageSize < 10)) {","            tests[\"validation metaInfo with pageSize\"] = response.metaInfo.hitSize <= pageSize;","        }","        ","        if(pageIndex === 1 || isNaN(pageIndex) || isNaN(pageSize)) {","            ","            response[entity].forEach(function(value) {","                var check =  Object.getOwnPropertyNames(value).map(function(key) {","                    if (key === \"mdl\") {","                        if(value[key] === mdl) {","                            tests[\"mdl check \"] = value[key] == mdl;","                        }","                    }","                });","            });","        }","        break;","        ","    case 406:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","        ","    case 401:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","        ","    case 400:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","        ","    case 403:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","    ","    case 404:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        ","        if(tv4.validate(response,schema) === false) {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = tv4.validate(response,schema);","        } else {","            console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","            tests[\"Error code = \"+responseCode.code+\", Error validation [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = true;","        }","        break;","        ","    case 500:","","        request = JSON.parse(request.data);","        console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","        tests[\"Error code = \"+responseCode.code+\", Error Response [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(responseBody)] = false;","        break;","","    case 503:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        console.warn(count,collectionUnitName+\" [\" + Desc + \"] with url : \" +url);","        tests[\"Error code = \"+responseCode.code+\", Error Response [ \"+collectionUnitName+\" [\" + Desc + \"] with url : \" +url+\" ]\"+\", Request payload :\"+JSON.stringify(request)+\", Response Body : \"+JSON.stringify(response)] = false;","        break;","","}","","var totalCount = parseInt(postman.getEnvironmentVariable(\"totalCount\"));","postman.setEnvironmentVariable(\"count\",++count);","","if(count <= totalCount) {","    ","    postman.setEnvironmentVariable(\"url\",postman.getEnvironmentVariable(\"baseUrl\")+postman.getEnvironmentVariable(\"case\"+count));","    postman.setNextRequest(\"search with mdl\");","    ","} else {","    ","    postman.setEnvironmentVariable(\"count\",0);","    ","}","",""]}},{"listen":"prerequest","script":{"type":"text/javascript","exec":["var count = parseInt(postman.getEnvironmentVariable(\"count\"));","if(count === 0) {","    postman.setEnvironmentVariable(\"url\",postman.getEnvironmentVariable(\"baseUrl\"));","}"]}}],"request":{"url":"{{url}}","method":"POST","header":[{"key":"Authorization","value":"Bearer {{accessToken}}","description":""},{"key":"Accept","value":"application/json","description":""},{"key":"Content-Type","value":"application/json","description":""}],"body":{"mode":"raw","raw":"{   \n  \"filters\" : {     \n    \"{{entityFilter}}\" : {       \n      \"search\"  : {         \n        \"mdl\" : [\"{{mdl}}\"]      \n      }     \n    }  \n  } \n}"},"description":"testing mdl search"},"response":[]}]}