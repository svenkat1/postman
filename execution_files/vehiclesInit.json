{"variables":[],"info":{"name":"UIAPI's BAT Automation","_postman_id":"cfdaf8ab-a0a3-81ce-3819-6382c5c36ae5","description":"UIAPI's BAT Automation","schema":"https://schema.getpostman.com/json/collection/v2.0.0/collection.json"},"item":[{"name":"create vehicle","event":[{"listen":"test","script":{"type":"text/javascript","exec":["switch(responseCode.code) {","    ","    case 201:","        ","        response = JSON.parse(responseBody);","        postman.setEnvironmentVariable(\"tId\", response.details[0].tId);","        tests[\"entity created successfully\"] = responseCode.code === 201;","        break;","        ","    case 500:","        ","        request = JSON.parse(request.data);","        tests[\"Error message = \" +\"request payload : \"+JSON.stringify(request)+\", response Body : \"+JSON.stringify(responseBody)] = responseCode.code === false; ","        break;","        ","    default:","        ","        response = JSON.parse(responseBody);","        request = JSON.parse(request.data);","        tests[\"Error message  = \" +\"request payload : \"+JSON.stringify(request)+\", response Body : \"+JSON.stringify(response)] = responseCode.code === false;  ","        break;","        ","}","postman.setEnvironmentVariable(\"url\",postman.getEnvironmentVariable(\"baseUrl\"));"]}},{"listen":"prerequest","script":{"type":"text/javascript","exec":["pvt = JSON.parse(postman.getEnvironmentVariable(\"pvt\"));","entity = postman.getEnvironmentVariable(\"entity\");","","switch(entity) {","    case \"assets\" :","        postman.setEnvironmentVariable(\"entityFilter\",\"asset\");","        break;","    case \"persons\" :","        postman.setEnvironmentVariable(\"entityFilter\",\"person\");","        break;","    case \"vehicles\" :","        postman.setEnvironmentVariable(\"entityFilter\",\"vehicle\");","        break;","    case \"sensors\" :","        postman.setEnvironmentVariable(\"entityFilter\",\"sensor\");","        break;","}","","postman.setEnvironmentVariable(\"name\",Math.random().toString(36).substring(2, 15));","postman.setEnvironmentVariable(\"surname\",Math.random().toString(36).substring(2, 15));","postman.setEnvironmentVariable(\"givenNames\",Math.random().toString(36).substring(2, 15));","postman.setEnvironmentVariable(\"emailAdrs\",Math.random().toString(36).substring(2, 15)+\"@mailinator.com\");","postman.setEnvironmentVariable(\"mnf\",Math.random().toString(36).substring(2, 15));","postman.setEnvironmentVariable(\"mdl\",Math.floor((Math.random() * 10) + 1));","postman.setEnvironmentVariable(\"sn\",Math.floor((Math.random() * 10) + 1));","postman.setEnvironmentVariable(\"vin\",Math.floor((Math.random() * 10) + 1));","postman.setEnvironmentVariable(\"lic\",Math.floor((Math.random() * 10) + 1));","postman.setEnvironmentVariable(\"loc\",\"[\"+pvt.loc+\"]\");","postman.setEnvironmentVariable(\"distance\",1);","postman.setEnvironmentVariable(\"count\",0);","postman.setEnvironmentVariable(\"totalCount\",4);","","postman.setEnvironmentVariable(\"baseUrl\",\"https://api-stg.trimble.com/t/trimble.com/uiapis-qa/1.1/{{entity}}/v2?accountTId={{accountTId}}\");","postman.setEnvironmentVariable(\"description0\",\"search with only accountTId\");","postman.setEnvironmentVariable(\"case1\",\"&pageSize={{pageSize}}\");","postman.setEnvironmentVariable(\"description1\",\"search with accountTId and pageSize\");","postman.setEnvironmentVariable(\"case2\",\"&pageSize={{pageSize}}&pageIndex={{pageIndex}}\");","postman.setEnvironmentVariable(\"description2\",\"search with accountTId,pageSize and pageIndex\");","postman.setEnvironmentVariable(\"case3\",\"&pageSize={{pageSize}}&pageIndex={{pageIndex}}&period={{period}}\");","postman.setEnvironmentVariable(\"description3\",\"search with accountTId,pageSize,pageIndex and period\");","postman.setEnvironmentVariable(\"case4\",\"&pageSize={{pageSize}}&pageIndex={{pageIndex}}&period={{period}}&sortBy={{sortBy}}\");","postman.setEnvironmentVariable(\"description4\",\"search with accountTId,pageSize,pageIndex,period and sortBy\");",""]}}],"request":{"url":"https://api-stg.trimble.com/t/trimble.com/qa/oculus/{{entity}}/v4.3","method":"POST","header":[{"key":"Content-Type","value":"application/json","description":""},{"key":"Accept","value":"application/json","description":""},{"key":"Authorization","value":"Bearer {{accessToken}}","description":""}],"body":{"mode":"raw","raw":"{\n    \"{{entity}}\":\n        [\n      {\n      \"mnf\": \"{{mnf}}\",\n      \"mdl\": \"{{mdl}}\",\n      \"sn\": \"{{sn}}\",\n      \"name\": \"{{name}}\",\n      \"lic\" : \"{{lic}}\",\n     \"accountTId\":\"{{accountTId}}\",\n      \"af\": {\n        \"GMGR\": {\n          \"key\": \"Geomana^^ger\"\n        },\n        \"VSS\": {\n          \"key\": \"VISION-link\"\n        }\n      },\n      \"type\": \"assets/\",\n      \"descr\": \"QA t&est Asset\"\n    }\n          \n    ]\n}\n\n\n"},"description":"creating an vehicle using core apis"},"response":[]}]}